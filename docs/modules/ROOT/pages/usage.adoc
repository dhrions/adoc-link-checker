= Guide d‚Äôutilisation
:page-description: Comment utiliser Adoc Link Checker pour v√©rifier les liens dans vos fichiers AsciiDoc.
:icons: font
:source-highlighter: pygments

== üöÄ Utilisation de base

=== Commande minimale
Pour v√©rifier les liens dans un dossier contenant des fichiers `.adoc` :
[source,bash]
----
adoc-link-checker /chemin/vers/vos/fichiers/adoc
----
Le r√©sultat sera enregistr√© dans `broken_links.json`.

=== Exemple complet
[source,bash]
----
adoc-link-checker ./docs \
  --max-workers 10 \
  --timeout 20 \
  --exclude-from exclude_urls.txt \
  --output rapport.json \
  -vv
----
- `--max-workers 10` : Utilise 10 threads pour acc√©l√©rer le traitement.
- `--timeout 20` : Timeout de 20 secondes pour chaque requ√™te.
- `--exclude-from exclude_urls.txt` : Ignore les liens list√©s dans ce fichier.
- `--output rapport.json` : Enregistre le rapport dans `rapport.json`.
- `-vv` : Active le mode debug pour plus de d√©tails.

=== Sortie standard
Si des liens bris√©s sont d√©tect√©s, le rapport JSON ressemblera √† :
[source,json]
----
{
  "./docs/page1.adoc": [
    ["https://lien-brise.com", "URL not accessible (404)"],
    ["https://timeout.com", "Request timed out"]
  ],
  "./docs/page2.adoc": [
    ["https://redirection.com/ancienne-url", "Redirected to https://redirection.com/nouvelle-url"]
  ]
}
----

== üéØ Cas d‚Äôusage avanc√©s

=== V√©rifier un fichier sp√©cifique
[source,bash]
----
adoc-link-checker ./docs/page.adoc
----

=== Ignorer des domaines
Utilisez `--blacklist` pour ignorer des domaines sp√©cifiques :
[source,bash]
----
adoc-link-checker ./docs \
  --blacklist "spam.com" \
  --blacklist "ads.example"
----

=== Exclure des liens via un fichier
Cr√©ez un fichier `exclude_urls.txt` :
----
https://exemple.com/lien-a-exclure
https://autre-exemple.com/ignorer
----
Puis ex√©cutez :
[source,bash]
----
adoc-link-checker ./docs --exclude-from exclude_urls.txt
----

=== Mode silencieux
Pour d√©sactiver les logs (sauf les erreurs) :
[source,bash]
----
adoc-link-checker ./docs --quiet
----

=== Enregistrer les logs dans un fichier
[source,bash]
----
adoc-link-checker ./docs --log-file logs/adoc-link-checker.log
----

=== V√©rifier uniquement les liens YouTube
Adoc Link Checker d√©tecte automatiquement les IDs YouTube (ex: `video::dQw4w9WgXcQ[]`) et v√©rifie leur validit√©.

== üîÑ Int√©gration CI/CD

=== Exemple avec GitHub Actions
Cr√©ez un fichier `.github/workflows/check-links.yml` :
[source,yaml]
----
name: Check links
on: [push, pull_request]
jobs:
  check-links:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: pip install adoc-link-checker
      - run: adoc-link-checker ./docs --output broken_links.json
      - name: Fail if broken links
        if: ${{ failure() }}
        run: exit 1
----

=== Exemple avec GitLab CI
Ajoutez une √©tape √† votre `.gitlab-ci.yml` :
[source,yaml]
----
check_links:
  script:
    - pip install adoc-link-checker
    - adoc-link-checker ./docs --output broken_links.json
----

== üìä Interpr√©tation des r√©sultats
| Code d‚Äôerreur | Signification |
|---------------|---------------|
| `404` | Page non trouv√©e. |
| `403` | Acc√®s interdit. |
| `Timeout` | La requ√™te a expir√©. |
| `DNS resolution failed` | Le domaine n‚Äôexiste pas. |
| `Redirected to ...` | L‚ÄôURL a √©t√© redirig√©e (peut √™tre normal). |

== üí° Bonnes pratiques
- **Exclure les liens dynamiques** : Ajoutez les URLs g√©n√©r√©es dynamiquement (ex: liens de login) √† `exclude_urls.txt`.
- **Limiter le nombre de threads** : Utilisez `--max-workers 5` pour √©viter les bans IP.
- **V√©rifier r√©guli√®rement** : Int√©grez le checker dans votre pipeline CI pour une d√©tection pr√©coce.

== ‚ùì FAQ
[qanda]
Quelle est la diff√©rence entre `--blacklist` et `--exclude-from`?::
`--blacklist` ignore tous les liens contenant un domaine sp√©cifique, tandis que `--exclude-from` ignore uniquement les URLs list√©es dans le fichier.

Puis-je v√©rifier des liens locaux (ex: `link:autre-page.adoc`)?::
Non, la version actuelle ne v√©rifie que les liens HTTP/HTTPS. Cette fonctionnalit√© est pr√©vue pour une prochaine version.

Comment g√©rer les redirections?::
Les redirections (3xx) sont suivies automatiquement. Utilisez `-vv` pour voir la cha√Æne de redirection.
